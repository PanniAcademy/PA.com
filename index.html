<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-site-verification" content="FwC4ih-MvEP7q2f_WlNE6oTX_b5mA1uc7dcxmpoW9sM" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="Js files/script.js"></script>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>PANNI ACADEMY</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="Images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <button onclick="openNav()">â˜° Menu</button>
    </nav>

    <!-- Sidebar Menu -->
    <div class="sidebar" id="mySidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
        <a href="admission.html">Admission</a>
        <a href="about.html">About Academy</a>
        <a href="achievements.html">Achievements</a>
        <a href="shop.html">Shop</a>
        <a href="panniAI.html">Panni AI</a>
    </div>

    <!-- Main Content -->
    <center>
        <div class="container">
            <h1>PANNI ACADEMY OF WATER SPORTS</h1>
        </div>
        <h1><b>"DIVE INTO EXCELLENCE: WHERE WAVES MEET MASTERY!"</b></h1>

        <!-- Video Background -->
        <div class="video-container">
            <video autoplay loop muted playsinline>
                <source src="Images/PanniAcademt.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <p>Welcome to <b>PANNI ACADEMY OF WATER SPORTS</b>, located in the heart of Rajasthan! Our academy is the perfect fusion of skill and adventure, where every ripple in the water reflects passion and determination. Whether you're taking your first dive or mastering advanced techniques, this is the place for you. Join our academy to discover the thrill of water sports under the guidance of experts like Mr. Panni.</p>
        
        <p>With world-class instructors and state-of-the-art facilities, the academy offers comprehensive programs that include swimming, kayaking, windsurfing, and much more. Experience a unique blend of desert charm and aquatic excitement, right here at Panni Academy!</p>

        <h3>WHAT ARE YOU WAITING FOR? EMBARK ON AN AQUATIC ADVENTURE TODAY!</h3>
    </center>

    <button id="installButton">Install App</button><br><br>
    <button onclick="toggleDarkMode()">ðŸŒ™ </button>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";
        import { getMessaging, getToken } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDzACRNe7s6Kk33xDDJizS8Q8N2UgF9frM",
            authDomain: "panni-academy-c8629.firebaseapp.com",
            projectId: "panni-academy-c8629",
            storageBucket: "panni-academy-c8629.appspot.com",
            messagingSenderId: "30707262211",
            appId: "1:30707262211:web:e56a8ff2f927fc87087f36",
            measurementId: "G-ZFH9GHJFWQ"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const messaging = getMessaging(app);

        navigator.serviceWorker.register("service-worker.js").then(registration => {
            getToken(messaging, {
                serviceWorkerRegistration: registration,
                vapidKey: 'BH1R_OTbtV-7hkbnfUkxvZFQW_0bWFHWfvuv9buVLxhJ0Y0H4NTbXHzrwVeAVRo_vIzbMWLI5WB-YERueiK8dnw'
            }).then((currentToken) => {
                if (currentToken) {
                    console.log("Token:", currentToken);
                } else {
                    console.warn('No registration token available.');
                }
            }).catch((err) => {
                console.error('Token retrieval error:', err);
            });
        });
    </script>

    <!-- BotPress Chatbot -->
    <script src="https://cdn.botpress.cloud/webchat/v2.2/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2025/01/30/05/20250130051651-K2RNA0DU.js"></script>

    <!-- Speech Recognition Script -->
    <script>
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';
        recognition.continuous = true;
        recognition.interimResults = false;

        function requestMicrophonePermission() {
            navigator.mediaDevices.getUserMedia({ audio: true })
                .then(() => {
                    console.log('Microphone permission granted.');
                    startSpeechRecognition();
                })
                .catch((error) => {
                    console.error('Microphone permission denied:', error);
                    alert('Microphone permission is required for voice activation.');
                });
        }

        function startSpeechRecognition() {
            recognition.start();
            console.log('Speech recognition started...');
        }

        function triggerPanniAI() {
            console.log('Activating Panni AI...');
            window.botpressWebChat.open();
        }

        recognition.onresult = (event) => {
            const speechResult = event.results[event.resultIndex][0].transcript.trim().toLowerCase();
            console.log('You said:', speechResult);

            if (speechResult === 'hey panni') {
                triggerPanniAI();
            }
        };

        recognition.onend = () => {
            console.log('Speech recognition stopped. Restarting...');
            startSpeechRecognition();
        };

        recognition.onerror = (event) => {
            console.error('Speech recognition error:', event.error);
            if (event.error === 'no-speech' || event.error === 'network') {
                startSpeechRecognition();
            }
        };

        window.addEventListener('load', requestMicrophonePermission);
    </script>
</body>
</html>
